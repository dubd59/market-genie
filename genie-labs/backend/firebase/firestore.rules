match /marketGenie_campaigns/{campaign} {
  allow read, write: if 
    request.auth != null &&
    request.auth.token.firebase.identities['genie-product'] == 'marketgenie' &&
    resource.data.ownerId == request.auth.uid;
}

match /marketGenie_analytics/{report} {
  allow read: if request.auth != null;
  allow write: if request.auth.token.admin == true; // Appwrite-only
}
